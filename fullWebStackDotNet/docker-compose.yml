version: "3"
services:    
  react:
    build:
      context: ./test-react
    image: vtrifonovdocker/test_react:v1
    ports:
      - "5000:3000"
    networks:
      - net
    volumes: 
      - "react-volume:/var/test-react"
    container_name: react-v1
  react_aspnetcore:
    build:
      context: ./AspNetCore
    image: vtrifonovdocker/react_aspnetcore:v2
    ports:
      - "5006:80"
    networks:
      - net
    volumes: 
      - "webserver-volume:/var/app"
    container_name: react_aspnetcore
  nginx_host:
    image: nginx:1.14.2
    volumes: 
      - "nginx-host-volume:/usr/share/nginx/html"
    networks:
      - net
    ports:
      - "9999:80"
networks:
  net:
volumes:
  react-volume:
  webserver-volume: 
  nginx-host-volume:
